<function-run [functionInfo]="selectedFunction"></function-run>
<div class="gutter-container">
    <h2 *ngIf="selectedFunction">{{selectedFunction.name}} 
        <i *ngIf="!selectedFunction.clientOnly" class="fa fa-trash clickable" (click)="deleteFunction(selectedFunction)"></i>
    </h2>
    <div>
        <div class="row">
            <div class="left"><label>Function Url:</label></div>
            <div class="right"><pre>{{functionInvokeUrl}}</pre></div>
        </div>
        <div class="row" *ngIf="selectedFunction.secrets && selectedFunction.secrets.webHookReceiverKey">
            <div class="left"><label>Function Secret:</label></div>
            <div class="right"><pre>{{selectedFunction.secrets.webHookReceiverKey}}</pre></div>
        </div>
    </div>
    <!--<function-designer *ngIf="selectedFile && selectedFile.name === 'function.json'" [functionConfigString]="selectedFile.content"></function-designer>-->
    <!--<div *ngIf="selectedFile && selectedFile.name !== 'function.json'">-->
    <div *ngIf="selectedFile">
        <h3 class="file-name" *ngIf="!selectedFile.isNew">{{selectedFile.name}}</h3>
        <input type="text" *ngIf="selectedFile.isNew" [(ngModel)]="selectedFile.name" class="new-function-name" placeholder="File Name"/>
        <div class="file-tools">
            <button class="custom-button" [class.dirty]="selectedFile.isDirty" (click)="saveFile(selectedFile)">Save</button>
        </div>
    </div>
</div>
<div style="padding-right: 20px">
    <div class="ace_editor" aceEditor id="editor"
        *ngIf="selectedFile"
        [fileObject]="selectedFile"
        (contentChanged)="contentChanged($event)"
        [content]="selectedFile.content">
    </div>
</div>